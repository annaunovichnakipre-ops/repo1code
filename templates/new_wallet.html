<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Кошелек</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');

    body { 
      margin: 0; 
      padding: 0; 
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #eaffcc, #d3ffec);
      display: flex; 
      justify-content: center; 
      align-items: center; 
      height: 100vh; 
    }
    .card { 
      background: #e9c6ff; 
      border-radius: 20px; 
      width: 90%; 
      max-width: 420px;
      text-align: center; 
      padding: 25px; 
      box-shadow: 0 4px 12px rgba(0,0,0,0.2); 
      position: relative; 
    }
    .logo { 
      width: 100px; 
      height: 100px; 
      margin: 0 auto 20px; 
      background-size: cover; 
      background-position: center; 
    }
    h1 { 
      font-size: 22px; 
      margin-bottom: 10px; 
      color: #4b0082; 
    }
    .wallet-info {
      background: #fff;
      border-radius: 12px;
      padding: 15px;
      text-align: left;
      font-size: 14px;
      line-height: 1.5;
      margin-bottom: 15px;
    }
    .seed {
      background: #f9f9f9;
      padding: 10px;
      border-radius: 10px;
      font-size: 13px;
      color: #333;
      word-break: break-word;
    }
    .btn { 
      display: block; 
      width: 100%; 
      padding: 14px; 
      margin: 10px 0; 
      font-size: 16px;
      font-weight: bold; 
      border: none; 
      border-radius: 12px; 
      cursor: pointer; 
      transition: 0.3s; 
    }
    .btn.primary { background: #000; color: #fff; }
    .btn.primary:hover { background: #333; }
    .btn.secondary { background: rgba(255,255,255,0.4); color: #000; }
    .btn.secondary:hover { background: rgba(255,255,255,0.6); }
    .btn.qr { background: linear-gradient(135deg, #4b0082, #7a2ce0); color: #fff; }
    .btn.qr:hover { background: linear-gradient(135deg, #3c006a, #6923c0); }

    .copy-btn { 
      background: #4b0082; 
      color: #fff; 
      padding: 10px 15px; 
      border: none; 
      border-radius: 8px; 
      cursor: pointer; 
      font-size: 14px;
      margin-top: 8px;
    }
  </style>
</head>
<body>
  <div class="card">
    <div class="logo" style="background-image: url('/static/eth.png');"></div>
    <h1>Ваш новый кошелек</h1>

    <div class="wallet-info">
      <p><strong>Ethereum:</strong> <span id="ethAddr">{{ wallet.eth }}</span></p>
      <button class="copy-btn" onclick="copyText('{{ wallet.eth }}')">Копировать Ethereum</button>
      <button class="btn qr" onclick="openQR('eth')">Показать QR Ethereum</button>

      <hr style="margin: 15px 0; border: 0; border-top: 1px solid #ddd;">

      <p><strong>Solana:</strong> <span id="solAddr">{{ wallet.sol }}</span></p>
      <button class="copy-btn" onclick="copyText('{{ wallet.sol }}')">Копировать Solana</button>
      <button class="btn qr" onclick="openQR('sol')">Показать QR Solana</button>

      <hr style="margin: 15px 0; border: 0; border-top: 1px solid #ddd;">

      <p><strong>Seed фраза:</strong></p>
      <div class="seed" id="seedText">{{ wallet.seed }}</div>
      <button class="copy-btn" onclick="copyText('{{ wallet.seed }}')">Копировать фразу</button>
    </div>

    <a href="{{ url_for('wallet', user_id=request.args.get('user_id')) }}">
      <button class="btn secondary">Готово</button>
    </a>
  </div>

  <script>
    function copyText(text) {
      navigator.clipboard.writeText(text).then(() => {
        alert("Скопировано!");
      });
    }

    function openQR(token) {
      const userId = new URLSearchParams(window.location.search).get('user_id');
      const url = `/qr_code?user_id=${userId}&token=${token}`;
      window.open(url, '_blank');
    }
  </script>
</body>
</html>
